#!/usr/bin/python3

import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
from sklearn.cluster import KMeans
from sklearn.pipeline import make_pipeline
from sklearn.preprocessing import normalize
from scipy.cluster.hierarchy import linkage, dendrogram


def main():
	'''  Main function for testing '''

	samples, countries = get_data()
	hierarchy(samples, countries)


def hierarchy(samples, country_names):
	''' Standardizes samples with normalizer before clustering'''

	# Calculate the linkage: mergings
	mergings = linkage(samples, method='single')

	# Plot the dendrogram
	dendrogram(mergings, labels=country_names, leaf_rotation=90, leaf_font_size=6)
	plt.show()


def get_data():
	''' Makes numpy array for testing'''

	data = np.array([[  2.,  12.,   0.,   0.,   0.,   8.,   0.,   0.,   0.,   0.,   0.,
          0.,   1.,   0.,  10.,   0.,   4.,   0.,   5.,   7.,   0.,   0.,
          3.,   0.,   6.,   0.],
       [ 12.,   0.,   4.,   0.,   0.,   0.,   0.,   6.,   0.,   7.,   8.,
          0.,   3.,   0.,   0.,   0.,   0.,   5.,   1.,  12.,   0.,   0.,
          2.,   0.,  10.,   0.],
       [  0.,  12.,   3.,   0.,  12.,  10.,   0.,   0.,   0.,   7.,   0.,
          0.,   0.,   0.,   0.,   0.,   1.,   6.,   0.,   5.,   0.,   2.,
          0.,   0.,   8.,   4.],
       [  0.,   3.,  12.,   0.,   0.,   5.,   0.,   0.,   0.,   1.,   0.,
          2.,   0.,   0.,   0.,   0.,   0.,   0.,  12.,   8.,   4.,   0.,
          7.,   6.,  10.,   0.],
       [  0.,   2.,   0.,  12.,   0.,   8.,   0.,   0.,   0.,   4.,   1.,
          0.,   7.,   6.,   0.,   0.,   0.,   5.,   3.,  12.,   0.,   0.,
          0.,   0.,  10.,   0.],
       [  7.,   1.,   0.,   8.,   0.,   4.,   0.,   0.,   0.,   0.,   0.,
          0.,   3.,   0.,   0.,   5.,   0.,   0.,   6.,  12.,   0.,   0.,
          2.,   0.,  10.,   0.],
       [  7.,   4.,   3.,   0.,  12.,   5.,   0.,   0.,   0.,   8.,   0.,
          0.,   0.,   0.,   0.,   0.,   0.,   0.,  12.,   6.,   0.,   0.,
          1.,  10.,   2.,   0.],
       [  0.,   3.,   5.,   8.,   0.,   2.,  10.,   0.,   0.,   4.,   0.,
          0.,   1.,   0.,   0.,   0.,   0.,   0.,   0.,   6.,  12.,   0.,
          0.,   0.,   7.,   0.],
       [  8.,   5.,   4.,   1.,   0.,  12.,   0.,   7.,   0.,   0.,   0.,
          0.,   0.,   2.,   0.,   0.,   0.,   0.,   6.,  12.,   0.,   0.,
          3.,   0.,  10.,   0.],
       [  0.,   5.,   6.,   0.,   0.,   1.,  12.,   0.,   0.,   2.,   0.,
          0.,   3.,   0.,   0.,   0.,   0.,   0.,   4.,   8.,  12.,   0.,
          7.,   0.,  10.,   0.],
       [  8.,   5.,   0.,   0.,   0.,  12.,   0.,  12.,   0.,   6.,   0.,
          0.,   4.,   0.,   0.,   0.,   3.,   0.,   2.,  10.,   0.,   0.,
          1.,   0.,   7.,   0.],
       [  8.,   1.,   4.,   6.,   0.,   5.,   0.,   0.,  12.,   0.,   0.,
          0.,   3.,   0.,   0.,   0.,   0.,   0.,   7.,  10.,   0.,   0.,
          2.,   0.,  12.,   0.],
       [  0.,  10.,   1.,   0.,   8.,   0.,   0.,   0.,   0.,   2.,   0.,
          0.,   0.,   0.,   0.,   0.,   6.,   0.,   5.,   4.,   0.,   0.,
         12.,   7.,   3.,   0.],
       [  0.,   4.,   6.,   0.,   0.,   0.,   0.,   3.,   0.,   2.,   0.,
          0.,   0.,   0.,   0.,   7.,   5.,   0.,   1.,  12.,   0.,   0.,
         10.,   0.,   8.,   0.],
       [  7.,   3.,   0.,   0.,   4.,  10.,   5.,   0.,   0.,   0.,   0.,
          0.,   0.,   0.,   1.,   0.,   0.,   0.,   2.,   8.,  12.,   0.,
          0.,   0.,   6.,   0.],
       [  0.,   7.,   6.,   0.,   0.,   4.,   0.,   1.,   0.,   3.,   0.,
          0.,   0.,   0.,   0.,   2.,   0.,   0.,   5.,   8.,   0.,   0.,
         10.,   0.,  12.,   0.],
       [ 12.,   0.,   8.,   0.,   4.,   5.,   0.,   0.,   0.,  12.,   0.,
          0.,   0.,   3.,   0.,   0.,   0.,   0.,   7.,   6.,   0.,   1.,
          2.,   0.,  10.,   0.],
       [ 12.,   1.,   0.,   7.,   0.,   3.,   0.,   0.,   0.,   0.,  12.,
          0.,   2.,   0.,   0.,   6.,   5.,   0.,   4.,   8.,   0.,   0.,
          0.,   0.,  10.,   0.],
       [  2.,   5.,   7.,   0.,   0.,   4.,   0.,   0.,   0.,   0.,   0.,
         12.,   0.,   0.,   1.,   0.,   0.,   0.,  10.,  12.,   0.,   0.,
          8.,   3.,   6.,   0.],
       [  8.,   5.,   1.,   0.,   0.,   7.,   0.,  12.,   0.,   4.,   0.,
          0.,   2.,   0.,   0.,   0.,   0.,   0.,   3.,  10.,   0.,   0.,
          0.,   0.,   6.,   0.],
       [  0.,   8.,   2.,   1.,   3.,   0.,   0.,   0.,   0.,   5.,   0.,
          0.,   0.,   0.,   0.,   0.,   4.,   0.,  10.,   7.,   0.,   0.,
         12.,   6.,   0.,   0.],
       [  0.,   6.,   1.,   0.,   0.,   5.,   0.,   0.,   0.,   0.,   0.,
          0.,   0.,   0.,   0.,   7.,  12.,   0.,  10.,   8.,   0.,   0.,
          2.,   0.,   4.,   3.],
       [  6.,   5.,   3.,   2.,   1.,   7.,   0.,   0.,   0.,  12.,   0.,
          0.,   0.,  12.,   0.,   0.,   0.,   0.,   4.,  10.,   0.,   0.,
          0.,   0.,   8.,   0.],
       [  1.,   0.,   0.,   0.,   0.,   7.,   0.,   6.,   0.,   5.,   3.,
          0.,   0.,   0.,  12.,   0.,   2.,   0.,  10.,   8.,   4.,   0.,
          0.,   0.,  12.,   0.],
       [  0.,   6.,   4.,   3.,   0.,   1.,   0.,   0.,   0.,   0.,   2.,
          0.,   0.,   0.,   0.,  12.,   8.,   0.,   5.,  12.,   0.,   0.,
          7.,   0.,  10.,   0.],
       [  0.,   5.,   1.,   0.,   0.,   0.,   0.,   0.,   0.,   3.,   4.,
          0.,   2.,   0.,   0.,  12.,  12.,   0.,   6.,   8.,   0.,   0.,
          7.,   0.,  10.,   0.],
       [  0.,  12.,   0.,   6.,   0.,   8.,   0.,   0.,   0.,   2.,   0.,
          0.,   5.,   0.,   7.,   0.,   0.,  12.,   0.,  10.,   0.,   0.,
          0.,   3.,   4.,   1.],
       [  7.,   5.,   4.,   8.,   0.,   2.,   0.,   0.,   0.,   6.,   0.,
          0.,   0.,   0.,   0.,   1.,   3.,   0.,   0.,  12.,   0.,   0.,
          0.,   0.,  10.,   0.],
       [  0.,   0.,   0.,   7.,   0.,   5.,   6.,   0.,   0.,   1.,   0.,
          0.,   3.,   0.,   4.,   0.,   2.,   0.,   0.,  10.,  12.,   0.,
          0.,   0.,   8.,   0.],
       [  0.,   8.,   0.,   0.,   2.,   5.,   0.,   0.,   0.,   1.,   0.,
          0.,   0.,   0.,   0.,   3.,  12.,   0.,  10.,   6.,   0.,   0.,
          7.,   0.,   4.,   0.],
       [  2.,   7.,   4.,   0.,   0.,   3.,   0.,   1.,   0.,   0.,   0.,
          0.,   6.,   0.,   0.,   5.,   0.,   0.,  12.,   8.,   0.,   0.,
         10.,   0.,  12.,   0.],
       [ 12.,   4.,   8.,   6.,   0.,   0.,   0.,   7.,   0.,   3.,   0.,
          0.,   0.,   0.,   0.,   1.,   0.,   0.,   5.,  12.,   0.,   0.,
          2.,   0.,  10.,   0.],
       [  2.,   5.,   0.,   0.,   0.,   3.,   0.,   0.,   0.,   0.,   0.,
          0.,   1.,   0.,   0.,   6.,   8.,   0.,   7.,  10.,   0.,   0.,
          4.,   0.,  12.,   0.],
       [  2.,   6.,   0.,   0.,   5.,   8.,   4.,   3.,   0.,   0.,   0.,
          0.,  10.,   0.,   0.,   0.,   0.,   0.,   0.,  12.,  12.,   0.,
          1.,   0.,   7.,   0.],
       [  0.,   3.,   6.,   0.,   0.,   2.,   8.,   0.,   0.,   0.,   0.,
          0.,   0.,   0.,   1.,   0.,   0.,   0.,   4.,  10.,  12.,   0.,
          5.,   0.,   7.,   0.],
       [  6.,   4.,   2.,   0.,   0.,  12.,   0.,   0.,   0.,  10.,   0.,
          0.,   0.,   0.,   3.,   0.,   0.,   0.,   5.,   8.,   0.,  12.,
          1.,   0.,   7.,   0.],
       [  0.,  12.,   5.,   0.,   0.,   4.,   0.,   0.,   0.,   3.,   0.,
          0.,   0.,   0.,   0.,   0.,   6.,   0.,  10.,   8.,   0.,   1.,
         12.,   2.,   7.,   0.],
       [  0.,   1.,  10.,   0.,   0.,   0.,   0.,   0.,   0.,   3.,   0.,
          8.,   0.,   0.,   7.,   0.,   0.,   0.,   5.,   6.,  12.,   2.,
          0.,   0.,   4.,   0.],
       [  8.,   5.,   6.,   0.,  12.,   1.,   0.,   0.,   0.,   4.,   0.,
          0.,   0.,   0.,   0.,   0.,   0.,   0.,  10.,   3.,   0.,   0.,
          2.,  12.,   7.,   0.],
       [  7.,   4.,   0.,  10.,   0.,   2.,   0.,   0.,   0.,   0.,   6.,
          0.,   0.,   0.,   0.,   5.,   3.,   0.,   8.,  12.,   0.,   0.,
          1.,   0.,  12.,   0.],
       [  0.,   6.,   0.,   0.,   0.,   8.,   0.,   2.,   0.,   0.,   0.,
          0.,   0.,   0.,   0.,   3.,  12.,   0.,  10.,   7.,   0.,   4.,
          1.,   0.,   5.,  12.]])


	countries = np.array(['Albania',
 'Armenia',
 'Australia',
 'Austria',
 'Azerbaijan',
 'Belarus',
 'Belgium',
 'Bosnia & Herzegovina',
 'Bulgaria',
 'Croatia',
 'Cyprus',
 'Czech Republic',
 'Denmark',
 'Estonia',
 'F.Y.R. Macedonia',
 'Finland',
 'France',
 'Georgia',
 'Germany',
 'Greece',
 'Hungary',
 'Iceland',
 'Ireland',
 'Israel',
 'Italy',
 'Latvia',
 'Lithuania',
 'Malta',
 'Moldova',
 'Montenegro',
 'Norway',
 'Poland',
 'Russia',
 'San Marino',
 'Serbia',
 'Slovenia',
 'Spain',
 'Sweden',
 'Switzerland',
 'The Netherlands',
 'Ukraine',
 'United Kingdom'])

	return data, countries


if __name__ == '__main__':
	main()
